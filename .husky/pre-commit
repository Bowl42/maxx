#!/bin/sh

cd web

# TypeScript ç±»å‹æ£€æŸ¥ (å…¨é‡)
echo "ğŸ” è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥..."
pnpm tsc --noEmit

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript ç±»å‹æ£€æŸ¥å¤±è´¥ï¼Œæäº¤è¢«é˜»æ­¢"
  echo "è¯·å…ˆä¿®å¤ç±»å‹é”™è¯¯å†æäº¤"
  exit 1
fi

# Lint å’Œæ ¼å¼åŒ– (ä»…æš‚å­˜æ–‡ä»¶)
echo "ğŸ¨ è¿è¡Œ lint-staged (æ£€æŸ¥æš‚å­˜æ–‡ä»¶)..."
pnpm lint-staged

if [ $? -ne 0 ]; then
  echo "âŒ Lint/æ ¼å¼åŒ–æ£€æŸ¥å¤±è´¥ï¼Œæäº¤è¢«é˜»æ­¢"
  exit 1
fi

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡"
